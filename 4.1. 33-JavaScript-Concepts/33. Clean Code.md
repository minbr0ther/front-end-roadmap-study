# ìžë°”ìŠ¤í¬ë¦½íŠ¸ ê°œë°œìžë¼ë©´ ì•Œì•„ì•¼í•˜ëŠ” í•µì‹¬ ì»¨ì…‰ 33ê°œ 

## by leonardomso & soldonii [#](https://github.com/leonardomso/33-js-concepts) [#](https://soldonii.tistory.com/56?category=862199) #

### 33. Clean Code

# 1. Strong type checks

`==`ëŒ€ì‹  `===` ì‚¬ìš©í•˜ê¸°

```javascript
0 == false // true
0 === false // false
2 == "2" // true
2 === "2" // false

// example
const val = "123";

if (val === 123) {
  console.log(val);
  // it cannot not be reached
}

if (val === "123") {
  console.log(val);
  // it can be reached
}
```

# 2. Variables

ë³€ìˆ˜ì˜ ìš©ë„ì™€ ì˜ë„ë¥¼ ë“œëŸ¬ë‚´ëŠ” ì´ë¦„ìœ¼ë¡œ ì§“ê¸°

ë³€ìˆ˜ì˜ ì´ë¦„ë§Œ ë´ë„ ìš©ë„ë¦„ ì§ìž‘í•  ìˆ˜ ìžˆê³  ê²€ìƒ‰ì´ ê°€ëŠ¥í•˜ë„ë¡ ë‹¨ìˆœí•˜ë©´ ì¢‹ë‹¤ ðŸ¤“

Bad ðŸ‘ŽðŸ»

```javascript
let daysSLV = 10;

let y = new Date().getFullYear();

let ok;

if (user.age > 30) {
  ok = true;
}
```

good ðŸ‘ðŸ»

```javascript
const MAX_AGE = 30;

let daysSinceLastVisit = 10;

let currentYear = new Date().getFullYear();

...

const isUserOlderThanAllowed = user.age > MAX_AGE;
```

ë¶ˆí•„ìš”í•œ ë‹¨ì–´ ì¶”ê°€í•˜ì§€ ì•Šê¸°

Bad ðŸ‘ŽðŸ»

```javascript
let nameValue;
let theProduct;
```

good ðŸ‘ðŸ»

```javascript
let name;
let product;
```

ë³€ìˆ˜ì˜ ì˜ë¯¸ë¥¼ ì™¸ìš°ê±°ë‚˜ ìœ ì¶”í•˜ë„ë¡ í•˜ì§€ ì•Šê²Œ í•˜ê¸°

Bad ðŸ‘ŽðŸ»

```javascript
const products = ["T-Shirt", "Shoes", "Watches", "Bags"];

products.forEach(p => {
  doSomething();
  doSomethingElse();
  // ...
  // ...
  // ...
  // ...
  // What is `p` for?
  register(p);
});
```

good ðŸ‘ðŸ»

```javascript
const products = ["T-Shirt", "Shoes", "Watches", "Bags"];

products.forEach(product => {
  doSomething();
  doSomethingElse();
  // ...
  // ...
  // ...
  register(product);
});
```

ê°™ì€ íƒ€ìž…ì˜ ë³€ìˆ˜ì—ëŠ” ê°™ì€ ë‹¨ì–´ ì“°ê¸°

Bad ðŸ‘ŽðŸ»

```javascript
getUserInfo();
getClientData();
getCustomerRecord();
```

good ðŸ‘ðŸ»

```javascript
getProduct();
```

# 3. Functions

ê¸¸ì–´ë„ ë¬˜ì‚¬ê°€ ìž˜ ë˜ëŠ” ì´ë¦„ ì‚¬ìš©í•˜ê¸°

í•¨ìˆ˜ì˜ ì´ë¦„ê³¼ í•¨ìˆ˜ê°€ ë°›ëŠ” ì¸ìž(arguments)ëŠ” ë™ì‚¬ì´ê±°ë‚˜ í•´ë‹¹ í•¨ìˆ˜ì˜ ì˜ë„ì™€ ì“°ìž„ì„ ìž˜ ë‚˜íƒ€ë‚¼ ìˆ˜ ìžˆëŠ” ê²ƒì´ ì¢‹ë‹¤.

Their name should say what they do!

Bad ðŸ‘ŽðŸ»

```javascript
function email(user) {
  // implementation
}
```

good ðŸ‘ðŸ»

```javascript
function sendEmailUser(emailAddress) {
  // implementation
}
```



ë§Žì€ ìˆ˜ì˜ ì¸ìžë¥¼ ë„£ëŠ”ê²ƒì€ í”¼í•˜ìž
ì´ìƒì ìœ¼ë¡œ, í•œ í•¨ìˆ˜ì—ì„œ ìµœëŒ€ 2ê°œê¹Œì§€ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì¸ìžê°€ ì ì„ìˆ˜ë¡, í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸ í•˜ê¸°ë„ ì‰¬ì›Œì§„ë‹¤.

Bad ðŸ‘ŽðŸ»

```javascript
function getProducts(fields, fromDate, toDate) {
  // implementation
}
```

good ðŸ‘ðŸ»

```javascript
function getProducts({ fields, fromDate, toDate }) {
  // implementation
}

getProducts({
  fields: ['id', 'name', 'price', 'units],
  fromDate: '2020-07-01',
  toDate: '2020-07-22'
});
```



conditionals ëŒ€ì‹  default arguments ì‚¬ìš©í•˜ê¸°

Bad ðŸ‘ŽðŸ»

```javascript
function createShape(type) {
  const shapeType = type || "circle";
  // ...
}
```

good ðŸ‘ðŸ»

```javascript
function createShape(type = "circle") {
  // ...
}
```



í•œ í•¨ìˆ˜ì—ì„œ ì—¬ëŸ¬ê°€ì§€ ë™ìž‘ í”¼í•˜ê¸°

Bad ðŸ‘ŽðŸ»

```javascript
function notifyUsers(users) {
  users.forEach(user => {
    const userRecord = database.lookup(user);
    if (userRecord.isVerified()) {
      notify(user);
    }
  });
}
```

good ðŸ‘ðŸ»

```javascript
function notifyVerifiedUsers(users) {
  users.filter(isUserVerified).forEach(notify);
}

function isUserVerified(user) {
  const userRecord = database.lookup(user);
  return userRecord.isVerified();
}
```



default objects ì§€ì •í•  ë•Œ `Object.assign` ì‚¬ìš©í•˜ê¸°

Bad ðŸ‘ŽðŸ»

```javascript
const shapeConfig = {
  type: "circle",
  width: 150,
  height: null
};

function createShape(config) {
  config.type = config.type || "circle";
  config.width = config.width || 300;
  config.height = config.height || 300;
}

createShape(shapeConfig);
```

good ðŸ‘ðŸ»

```javascript
const shapeConfig = {
  type: "circle",
  width: 150
  // Exclude the 'height' key
};

function createShape(config) {
  config = Object.assign(
    {
      type: "circle",
      width: 300,
      height: 300
    },
    config
  );
  ...
}
  
createShape(shapeConfig);
```



íŒŒë¼ë¯¸í„°ë¡œ flags ì“°ì§€ ì•Šê¸°
flagsë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ í•¨ìˆ˜ê°€ í•´ì•¼í•  ì¼ ë³´ë‹¤ ë” í•˜ê³  ìžˆë‹¤ëŠ” ì˜ë¯¸!

Bad ðŸ‘ŽðŸ»

```javascript
function createFile(name, isPublic) {
  if (isPublic) {
    fs.create(`./public/${name}`);
  } else {
    fs.create(name);
  }
}
```

good ðŸ‘ðŸ»

```javascript
function createFile(name) {
  fs.create(name);
}

function createPublicFile(name) {
  createFile(`./public/${name}`);
}
```



Globals ì˜¤ì—¼ì‹œí‚¤ì§€ ì•Šê¸°

ì´ë¯¸ ì¡´ìž¬í•˜ëŠ” ê°ì²´ë¥¼ extendí•´ì•¼ í•œë‹¤ë©´ ES Classesì™€ ìƒì†¡ì„±ì„ ì´ìš©í•˜ê³  native ê°ì²´ì˜ prototy chainì— í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ”ê±¸ ì§€ì–‘í•˜ìž

Bad ðŸ‘ŽðŸ»

```javascript
Array.prototype.myFunction = function myFunction() {
  // implementation
};
```

good ðŸ‘ðŸ»

```javascript
class SuperArray extends Array {
  myFunc() {
    // implementation
  }
}
```

# 4. Conditionals

ë¶€ì • ì¡°ê±´(negative conditionals) ì§€ì–‘í•˜ê¸°

Bad ðŸ‘ŽðŸ»

```javascript
function isPostNotPublished(post) {
  // implementation
}
if (!isPostNotPublished(post)) {
  // implementation
}
```

good ðŸ‘ðŸ»

```javascript
function isPostPublished(user) {
  // implementation
}
if (isPostPublished(user)) {
  // implementation
}
```



conditional shorthand ì‚¬ìš©í•˜ê¸°
ì‚¬ì†Œí•´ ë³´ì¼ì§€ ëª¨ë¥´ì§€ë§Œ, ì§šê³  ë„˜ì–´ê°ˆë§Œ í•˜ë‹¤.

ê°’ì´ booleanì´ê±°ë‚˜ `undefined` í˜¹ì€ `null`ê°’ì´ ì•„ë‹ˆë¼ê³  í™•ì‹ í•  ë•Œ ì“°ëŠ”ê²Œ ì¢‹ë‹¤.

Bad ðŸ‘ŽðŸ»

```javascript
if (isValid === true) {
  // do something...
}
if (isValid === false) {
  // do something...
}
```

good ðŸ‘ðŸ»

```javascript
if (isValid) {
  // do something...
}
if (!isValid) {
  // do something...
}
```



ê¼­ í•„ìš”í•œ ìƒí™©ì´ ì•„ë‹ˆë©´ ì¡°ê±´ì€ ì§€ì–‘í•˜ê¸°
ë‹¤í˜•ì„±(polymorphism)ê³¼ ìƒì†ì„±(inheritance)ì„ ì´ìš©í•˜ìž ðŸ‘€

Bad ðŸ‘ŽðŸ»

```javascript
class Dog {
  // ...
  getBreed() {
    switch (this.type) {
      case "GermanShepherd":
        return this.getStandardSize("GermanShepherd");
      case "JackRussellTerrier":
        return this.getStandardSize("JackRussellTerrier");
      case "ShibaInu":
        return this.getStandardSize("ShibaInu");
    }
  }
}
```

good ðŸ‘ðŸ»

```javascript
class Dog {
  // ...
}

class GermanShepherd extends Dog {
  // ...
  getStandardSize() {
    return this.standardSize;
  }
}

class JackRussellTerrier extends Dog {
  // ...
  getSize() {
    return this.standardSize;
  }
}

class ShibaInu extends Dog {
  // ...
  getSize() {
    return this.standardSize;
  }
}
```

# 5. ES Classes

ES ClassesëŠ” JavaScriptì˜ ìƒˆë¡œìš´ ê°œê¿€ë¬¸ë²•ì´ë‹¤.

ì´ ì „ì— prototypeê³¼ í•¨ê»˜ ë™ìž‘í•˜ë˜ ê²ƒê³¼ ê°™ì§€ë§Œ ê²‰ëª¨ìŠµë§Œ ë‹¤ë¥´ê³  ë‚¡ì€ ES5 plain í•¨ìˆ˜ë³´ë‹¤ ì´ê²ƒì„ ì´ìš©í•˜ìž.

Bad ðŸ‘ŽðŸ»

```javascript
const Product = function(name) {
  if (!(this instanceof Product)) {
    throw new Error("Instantiate Product with `new` keyword");
  }
  this.name = name;
};

Product.prototype.getSize = function getSize() { /**/ };

const Tshirt = function(name, color) {
  if (!(this instanceof Tshirt)) {
    throw new Error("Instantiate Tshirt with `new` keyword");
  }
  Product.call(this, name);
  this.color = color;
};

Tshirt.prototype = Object.create(Product.prototype);
Tshirt.prototype.constructor = Tshirt;
Tshirt.prototype.printColor = function printColor() { /**/ };
```

good ðŸ‘ðŸ»

```javascript
class Product {
  
  constructor(name) {
    this.name = name;
  }
  
  getDiscount() {
    /* ... */
  }
}

class Tshirt extends Product {
  
  constructor(name, color) {
    super(name);
    this.color = color;
  }
  
  getSize() {
    /* ... */
  }
}
```

# 6. Eval ì§€ì–‘í•˜ê¸°

> The Eval function allows us to pass a string to the JavaScript compiler and have it execute as JavaScript

ê°„ë‹¨ížˆ ë§í•´ì„œ, runtimeì— ì „ë‹¬ë˜ëŠ” ëª¨ë“  ê²ƒì€ ë§ˆì¹˜ design timeì— ì¶”ê°€ëœ ê²ƒì²˜ëŸ¼ ì‹¤í–‰ëœë‹¤.

```javascript
eval("alert('Hi');");
```

"Hi"ë¼ëŠ” ë©”ì„¸ì§€ê°€ ë“  alertì°½ì„ ë„ìš´ë‹¤.

> Eval function should be avoided because itâ€™s not safe and it opens a potential threat vector for malicious programmers to exploit.

# 7. Lint ì‚¬ìš©í•˜ê¸°

JavaScriptì˜ ES LintëŠ” í”í•˜ê²Œ ì €ì§€ë¥´ëŠ” ì‹¤ìˆ˜ë¥¼ ë°”ë¡œìž¡ì•„ì£¼ëŠ”

# 8. í‰ì†Œì— í”¼í•´ì•¼í•  ê²ƒë“¤

- ë°˜ë³µì ì¸ ì½”ë“œ ìž‘ì„±í•˜ì§€ ì•Šê¸°
- ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ë‚˜ ì£½ì€ ì½”ë“œ ë‚¨ê²¨ë‘ì§€ ì•Šê¸°

ë°˜ë³µì ì¸ ì½”ë“œëŠ” Reactì—ì„œ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•´ì„œ ê´€ë¦¬í•˜ë©´ ì¢‹ë‹¤.
ê°œë°œ ë„ì¤‘ ì‚¬ìš©í•˜ì§€ ì•Šê¸°ë¡œí•œ ì½”ë“œë‚˜ í•¨ìˆ˜ëŠ” ì¦‰ì‹œ ì§€ì›Œë²„ë¦¬ë„ë¡ í•˜ìž! ðŸ¤“

[ì°¸ê³ &ë²ˆì—­ ðŸŽˆ](https://medium.com/javascript-in-plain-english/javascript-clean-code-best-practices-461c24c53cae)



ë” ì½ì–´ë³´ê¸° >>

https://edu.goorm.io/learn/lecture/20119/%EB%B2%88%EC%97%AD%ED%8C%90-clean-code-javascript/lesson/960037/%EB%B3%80%EC%88%98-variiables